<!DOCTYPE html>
<html>

<head>
  <title>Mapa con Coordenadas</title>
  <link rel="stylesheet" type="text/css" href="./style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBt7SBw_rUCg6MHb3rqrxopHSMJwMIdvoA&callback=initMap&libraries=marker&v=weekly&loading=async"
    defer></script>
  <script type="module" src="./index.js"></script>
  <style>
    .menu-button {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    .menu-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 300px;
      height: 100vh;
      background: white;
      box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1000;
      padding: 20px;
    }

    .menu-panel.active {
      transform: translateX(0);
    }

    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
    }
  </style>
</head>

<body>
  <button id="menuButton" class="btn btn-primary menu-button">
    <i class="bi bi-list"></i> Menu
  </button>

  <div id="menuPanel" class="menu-panel">
    <button id="closeButton" class="btn btn-close close-button"></button>
    <div class="controls mt-4">
      <div class="form-group mb-3">
        <label for="endpointSelect" class="form-label">Seleccionar Endpoint:</label>
        <select id="endpointSelect" class="form-select">
          <option value="todas">Todas las coordenadas</option>
          <option value="historial">Historial por persona</option>
        </select>
      </div>
      <div id="personaIdContainer" style="display: none;" class="form-group mb-3">
        <label for="personaSelect" class="form-label">Seleccionar Persona:</label>
        <select id="personaSelect" class="form-select">
          <option value="">Cargando personas...</option>
        </select>
        <small class="form-text text-muted">Seleccione una persona para ver su historial de coordenadas</small>
      </div>
      <button onclick="initMap()" class="btn btn-primary w-100">Actualizar Mapa</button>
    </div>
  </div>

  <div id="map"></div>
</body>

</html>